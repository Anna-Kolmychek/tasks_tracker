--
-- PostgreSQL database dump
--

-- Dumped from database version 14.10 (Ubuntu 14.10-0ubuntu0.22.04.1)
-- Dumped by pg_dump version 14.10 (Ubuntu 14.10-0ubuntu0.22.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: taskstatus; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.taskstatus AS ENUM (
    'new',
    'in_work',
    'closed'
);


ALTER TYPE public.taskstatus OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: alembic_version; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.alembic_version (
    version_num character varying(32) NOT NULL
);


ALTER TABLE public.alembic_version OWNER TO postgres;

--
-- Name: job_position; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.job_position (
    id integer NOT NULL,
    title character varying NOT NULL
);


ALTER TABLE public.job_position OWNER TO postgres;

--
-- Name: job_position_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.job_position_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.job_position_id_seq OWNER TO postgres;

--
-- Name: job_position_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.job_position_id_seq OWNED BY public.job_position.id;


--
-- Name: task; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task (
    id integer NOT NULL,
    title character varying NOT NULL,
    description character varying,
    status public.taskstatus,
    deadline date,
    parent_task_id integer,
    maker_id integer,
    maker_position_id integer
);


ALTER TABLE public.task OWNER TO postgres;

--
-- Name: task_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.task_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.task_id_seq OWNER TO postgres;

--
-- Name: task_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.task_id_seq OWNED BY public.task.id;


--
-- Name: user_account; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_account (
    id integer NOT NULL,
    email character varying NOT NULL,
    firstname character varying NOT NULL,
    lastname character varying NOT NULL,
    password character varying NOT NULL,
    position_id integer
);


ALTER TABLE public.user_account OWNER TO postgres;

--
-- Name: user_account_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.user_account_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.user_account_id_seq OWNER TO postgres;

--
-- Name: user_account_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.user_account_id_seq OWNED BY public.user_account.id;


--
-- Name: job_position id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.job_position ALTER COLUMN id SET DEFAULT nextval('public.job_position_id_seq'::regclass);


--
-- Name: task id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task ALTER COLUMN id SET DEFAULT nextval('public.task_id_seq'::regclass);


--
-- Name: user_account id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_account ALTER COLUMN id SET DEFAULT nextval('public.user_account_id_seq'::regclass);


--
-- Data for Name: alembic_version; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.alembic_version (version_num) FROM stdin;
6d0432521fa9
\.


--
-- Data for Name: job_position; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.job_position (id, title) FROM stdin;
1	Backend Developer
2	Frontend Developer
3	QA Engineer
4	Project Manager
\.


--
-- Data for Name: task; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.task (id, title, description, status, deadline, parent_task_id, maker_id, maker_position_id) FROM stdin;
1	Backend задача 1	\N	new	2024-04-12	\N	1	1
3	Backend задача 3	\N	new	2024-05-30	\N	2	1
4	Backend задача 4	\N	new	2024-05-30	\N	2	1
5	Backend задача 5	\N	new	2024-05-30	\N	2	1
6	Backend задача 6	\N	in_work	2024-03-15	1	2	1
7	Backend задача 7	\N	new	2024-04-15	\N	\N	1
2	Backend задача 2	\N	in_work	2024-03-10	7	1	1
8	Backend задача 8	\N	new	2024-04-15	\N	\N	1
9	Backend задача 9	\N	new	2024-04-15	8	\N	1
10	QA задача 1	\N	in_work	2024-02-12	\N	8	3
11	Frontend задача 1	\N	in_work	2024-02-12	\N	5	2
\.


--
-- Data for Name: user_account; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_account (id, email, firstname, lastname, password, position_id) FROM stdin;
1	i_ivanov@email.com	Иван	Иванов	string	1
2	p_petrov@email.com	Петр	Петров	string	1
3	s_sergeev@email.com	Сергей	Сергеев	string	1
4	a_andreev@email.com	Андрей	Андреев	string	1
5	a_smirnov@email.com	Антон	Смирнов	string	2
6	a_popov@email.com	Артем	Попов	string	2
7	b_sokolov@email.com	Борис	Соколов	string	3
8	v_morozov@email.com	Виктор	Морозов	string	3
9	v_volkov@email.com	Виталий	Волков	string	4
10	d_vasilev@email.com	Денис	Васильев	string	\N
11	d_pavlov@email.com	Дмитрий	Павлов	string	\N
\.


--
-- Name: job_position_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.job_position_id_seq', 4, true);


--
-- Name: task_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.task_id_seq', 11, true);


--
-- Name: user_account_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_account_id_seq', 11, true);


--
-- Name: alembic_version alembic_version_pkc; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.alembic_version
    ADD CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num);


--
-- Name: job_position job_position_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.job_position
    ADD CONSTRAINT job_position_pkey PRIMARY KEY (id);


--
-- Name: task task_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task
    ADD CONSTRAINT task_pkey PRIMARY KEY (id);


--
-- Name: user_account user_account_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_account
    ADD CONSTRAINT user_account_pkey PRIMARY KEY (id);


--
-- Name: task task_maker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task
    ADD CONSTRAINT task_maker_id_fkey FOREIGN KEY (maker_id) REFERENCES public.user_account(id);


--
-- Name: task task_maker_position_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task
    ADD CONSTRAINT task_maker_position_id_fkey FOREIGN KEY (maker_position_id) REFERENCES public.job_position(id);


--
-- Name: task task_parent_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task
    ADD CONSTRAINT task_parent_task_id_fkey FOREIGN KEY (parent_task_id) REFERENCES public.task(id);


--
-- Name: user_account user_account_position_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_account
    ADD CONSTRAINT user_account_position_id_fkey FOREIGN KEY (position_id) REFERENCES public.job_position(id);


--
-- PostgreSQL database dump complete
--

